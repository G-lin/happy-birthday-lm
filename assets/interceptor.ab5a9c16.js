import{I as n,t as r,z as e,j as i,m as a,f as s,G as l,J as c}from"./vendor.cacf07dc.js";import{m as d,n as o}from"./index.12b81101.js";function t(s){var l=n(s,null);if(l){var c=a(),{link:d,unlink:o,internalChildren:t}=l;return d(c),r((()=>o(c))),{parent:l,index:e((()=>t.indexOf(c)))}}return{parent:null,index:i(-1)}}function u(n,r,e){var i,a,s,l=(i=n.subTree.children,a=[],(s=n=>{Array.isArray(n)&&n.forEach((n=>{var r;c(n)&&(a.push(n),null!=(r=n.component)&&r.subTree&&s(n.component.subTree.children),n.children&&s(n.children))}))})(i),a);e.sort(((n,r)=>l.indexOf(n.vnode)-l.indexOf(r.vnode)));var d=e.map((n=>n.proxy));r.sort(((n,r)=>d.indexOf(n)-d.indexOf(r)))}function p(n){var r=s([]),e=s([]),i=a();return{children:r,linkChildren:a=>{l(n,Object.assign({link:n=>{n.proxy&&(e.push(n),r.push(n.proxy),u(i,r,e))},unlink:n=>{var i=e.indexOf(n);r.splice(i,1),e.splice(i,1)},children:r,internalChildren:e},a))}}}function f(n){var{interceptor:r,args:e,done:i,canceled:a}=n;if(r){var s=r.apply(null,e||[]);d(s)?s.then((n=>{n?i():a&&a()})).catch(o):s?i():a&&a()}else i()}export{t as a,f as c,p as u};
