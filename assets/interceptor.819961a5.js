import{I as n,t as r,z as e,j as i,m as a,f as s,G as l,J as d}from"./vendor.0f092f4c.js";import{m as o,n as t}from"./index.dab47157.js";function c(s){var l=n(s,null);if(l){var d=a(),{link:o,unlink:t,internalChildren:c}=l;return o(d),r((()=>t(d))),{parent:l,index:e((()=>c.indexOf(d)))}}return{parent:null,index:i(-1)}}function u(n,r,e){var i,a,s,l=(i=n.subTree.children,a=[],(s=n=>{Array.isArray(n)&&n.forEach((n=>{var r;d(n)&&(a.push(n),null!=(r=n.component)&&r.subTree&&s(n.component.subTree.children),n.children&&s(n.children))}))})(i),a);e.sort(((n,r)=>l.indexOf(n.vnode)-l.indexOf(r.vnode)));var o=e.map((n=>n.proxy));r.sort(((n,r)=>o.indexOf(n)-o.indexOf(r)))}function p(n){var r=s([]),e=s([]),i=a();return{children:r,linkChildren:a=>{l(n,Object.assign({link:n=>{n.proxy&&(e.push(n),r.push(n.proxy),u(i,r,e))},unlink:n=>{var i=e.indexOf(n);r.splice(i,1),e.splice(i,1)},children:r,internalChildren:e},a))}}}function f(n){var{interceptor:r,args:e,done:i,canceled:a}=n;if(r){var s=r.apply(null,e||[]);o(s)?s.then((n=>{n?i():a&&a()})).catch(t):s?i():a&&a()}else i()}export{c as a,f as c,p as u};
