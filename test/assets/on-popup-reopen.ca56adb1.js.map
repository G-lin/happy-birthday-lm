{"version":3,"file":"on-popup-reopen.ca56adb1.js","sources":["../../../node_modules/vant/es/utils/dom/event.js","../../../node_modules/@vant/use/dist/esm/utils.js","../../../node_modules/@vant/use/dist/esm/onMountedOrActivated/index.js","../../../node_modules/@vant/use/dist/esm/useEventListener/index.js","../../../node_modules/@vant/use/dist/esm/useScrollParent/index.js","../../../node_modules/vant/es/composables/use-expose.js","../../../node_modules/vant/es/composables/use-touch.js","../../../node_modules/vant/es/composables/on-popup-reopen.js"],"sourcesContent":["export function stopPropagation(event) {\n  event.stopPropagation();\n}\nexport function preventDefault(event, isStopPropagation) {\n  /* istanbul ignore else */\n  if (typeof event.cancelable !== 'boolean' || event.cancelable) {\n    event.preventDefault();\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}\nexport function trigger(target, type) {\n  var inputEvent = document.createEvent('HTMLEvents');\n  inputEvent.initEvent(type, true, true);\n  target.dispatchEvent(inputEvent);\n}","export var inBrowser = typeof window !== 'undefined';\nvar root = inBrowser ? window : global;\nvar prev = Date.now();\n\nfunction rafPolyfill(fn) {\n  var curr = Date.now();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var id = setTimeout(fn, ms);\n  prev = curr + ms;\n  return id;\n}\n\nexport function raf(fn) {\n  var requestAnimationFrame = root.requestAnimationFrame || rafPolyfill;\n  return requestAnimationFrame.call(root, fn);\n}\nexport function cancelRaf(id) {\n  var cancelAnimationFrame = root.cancelAnimationFrame || root.clearTimeout;\n  cancelAnimationFrame.call(root, id);\n} // double raf for animation\n\nexport function doubleRaf(fn) {\n  raf(() => raf(fn));\n}","import { nextTick, onMounted, onActivated } from 'vue';\nexport function onMountedOrActivated(hook) {\n  var mounted;\n  onMounted(() => {\n    hook();\n    nextTick(() => {\n      mounted = true;\n    });\n  });\n  onActivated(() => {\n    if (mounted) {\n      hook();\n    }\n  });\n}","import { unref, onUnmounted, onDeactivated } from 'vue';\nimport { onMountedOrActivated } from '../onMountedOrActivated';\nimport { inBrowser } from '../utils'; // eslint-disable-next-line\n\nexport var supportsPassive = false;\n\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', {\n      get() {\n        supportsPassive = true;\n      }\n\n    });\n    window.addEventListener('test-passive', null, opts); // eslint-disable-next-line no-empty\n  } catch (e) {}\n}\n\nexport function useEventListener(type, listener, options = {}) {\n  if (!inBrowser) {\n    return;\n  }\n\n  var {\n    target = window,\n    passive = false,\n    capture = false\n  } = options;\n  var attached;\n\n  var add = () => {\n    var element = unref(target);\n\n    if (element && !attached) {\n      element.addEventListener(type, listener, supportsPassive ? {\n        capture,\n        passive\n      } : capture);\n      attached = true;\n    }\n  };\n\n  var remove = () => {\n    var element = unref(target);\n\n    if (element && attached) {\n      element.removeEventListener(type, listener, capture);\n      attached = false;\n    }\n  };\n\n  onUnmounted(remove);\n  onDeactivated(remove);\n  onMountedOrActivated(add);\n}","import { ref, onMounted } from 'vue';\nimport { inBrowser } from '../utils';\nvar overflowScrollReg = /scroll|auto/i;\nvar defaultRoot = inBrowser ? window : undefined;\n\nfunction isElement(node) {\n  var ELEMENT_NODE_TYPE = 1;\n  return node.tagName !== 'HTML' && node.tagName !== 'BODY' && node.nodeType === ELEMENT_NODE_TYPE;\n} // https://github.com/youzan/vant/issues/3823\n\n\nexport function getScrollParent(el, root = defaultRoot) {\n  var node = el;\n\n  while (node && node !== root && isElement(node)) {\n    var {\n      overflowY\n    } = window.getComputedStyle(node);\n\n    if (overflowScrollReg.test(overflowY)) {\n      return node;\n    }\n\n    node = node.parentNode;\n  }\n\n  return root;\n}\nexport function useScrollParent(el, root = defaultRoot) {\n  var scrollParent = ref();\n  onMounted(() => {\n    if (el.value) {\n      scrollParent.value = getScrollParent(el.value, root);\n    }\n  });\n  return scrollParent;\n}","import { getCurrentInstance } from 'vue';\nimport { extend } from '../utils'; // expose public api\n\nexport function useExpose(apis) {\n  var instance = getCurrentInstance();\n\n  if (instance) {\n    extend(instance.proxy, apis);\n  }\n}","import { ref } from 'vue';\nvar MIN_DISTANCE = 10;\n\nfunction getDirection(x, y) {\n  if (x > y && x > MIN_DISTANCE) {\n    return 'horizontal';\n  }\n\n  if (y > x && y > MIN_DISTANCE) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport function useTouch() {\n  var startX = ref(0);\n  var startY = ref(0);\n  var deltaX = ref(0);\n  var deltaY = ref(0);\n  var offsetX = ref(0);\n  var offsetY = ref(0);\n  var direction = ref('');\n\n  var isVertical = () => direction.value === 'vertical';\n\n  var isHorizontal = () => direction.value === 'horizontal';\n\n  var reset = () => {\n    deltaX.value = 0;\n    deltaY.value = 0;\n    offsetX.value = 0;\n    offsetY.value = 0;\n    direction.value = '';\n  };\n\n  var start = event => {\n    reset();\n    startX.value = event.touches[0].clientX;\n    startY.value = event.touches[0].clientY;\n  };\n\n  var move = event => {\n    var touch = event.touches[0]; // Fix: Safari back will set clientX to negative number\n\n    deltaX.value = touch.clientX < 0 ? 0 : touch.clientX - startX.value;\n    deltaY.value = touch.clientY - startY.value;\n    offsetX.value = Math.abs(deltaX.value);\n    offsetY.value = Math.abs(deltaY.value);\n\n    if (!direction.value) {\n      direction.value = getDirection(offsetX.value, offsetY.value);\n    }\n  };\n\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal\n  };\n}","import { inject, watch } from 'vue'; // eslint-disable-next-line\n\nexport var POPUP_TOGGLE_KEY = Symbol();\nexport function onPopupReopen(callback) {\n  var popupToggleStatus = inject(POPUP_TOGGLE_KEY, null);\n\n  if (popupToggleStatus) {\n    watch(popupToggleStatus, show => {\n      if (show) {\n        callback();\n      }\n    });\n  }\n}"],"names":["event","isStopPropagation","cancelable","preventDefault","stopPropagation","inBrowser","window","root","global","prev","Date","now","fn","curr","ms","Math","max","id","setTimeout","requestAnimationFrame","rafPolyfill","call","cancelAnimationFrame","clearTimeout","raf","hook","mounted","supportsPassive","opts","defineProperty","[object Object]","addEventListener","e","type","listener","options","attached","target","passive","capture","remove","element","unref","removeEventListener","overflowScrollReg","defaultRoot","node","tagName","nodeType","el","root2","isElement","overflowY","getComputedStyle","test","parentNode","scrollParent","ref","value","getScrollParent","apis","instance","getCurrentInstance","proxy","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","reset","move","x","y","touch","touches","clientX","clientY","abs","start","isVertical","isHorizontal","POPUP_TOGGLE_KEY","Symbol","callback","popupToggleStatus","inject","show"],"mappings":"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"}