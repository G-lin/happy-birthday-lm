{"version":3,"file":"Index.73592f09.js","sources":["../../../src/components/backTop/Index.vue"],"sourcesContent":["<template>\n    <!--返回顶部按钮-->\n    <div v-show=\"offset <= scrollTop\"\n         class=\"back-top\"\n         @click=\"click\">\n        <van-icon name=\"back-top\" size=\"27\" color=\"#fff\"/>\n    </div>\n</template>\n\n<script>\n    import {Icon} from 'vant';\n\n    import {ref, onMounted, onUnmounted} from 'vue';\n\n    export default {\n        name: \"WeiBackTop\",\n        components: {\n            [Icon.name]: Icon,\n        },\n        props: {\n            //滚动多少后显示\n            offset: {\n                type: Number,\n                default: 60\n            }\n        },\n        setup() {\n            //滚动的距离\n            let scrollTop = ref(0);\n            //监听点击\n            const click = () => {\n                let timer = setInterval(() => {\n                    let top = window.pageYOffset\n                        || document.documentElement.scrollTop\n                        || document.body.scrollTop;\n                    if (0 >= top) {\n                        clearInterval(timer);\n                        return;\n                    }\n                    let scrollTop = top - Math.floor(top / 5);\n                    scrollTop = 5 >= scrollTop ? 0 : scrollTop;\n                    document.documentElement.scrollTop = document.body.scrollTop = scrollTop;\n                }, 20);\n            }\n            //监听浏览器滚动事件\n            const scrollToTop = () => {\n                scrollTop.value = window.pageYOffset\n                    || document.documentElement.scrollTop\n                    || document.body.scrollTop;\n\n            }\n            onMounted(() => {\n                window.addEventListener('scroll', scrollToTop);\n            });\n            onUnmounted(() => {\n                window.removeEventListener('scroll', scrollToTop);\n            });\n            return {\n                click,\n                scrollTop\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .back-top {\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n        background-color: #1890ff;\n        width: 50px;\n        height: 50px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 50%;\n        overflow: hidden;\n    }\n</style>"],"names":["name","components","Icon","props","offset","type","Number","default","[object Object]","scrollTop","ref","scrollToTop","value","window","pageYOffset","document","documentElement","body","addEventListener","removeEventListener","click","timer","setInterval","top","scrollTop2","Math","floor","class","size"],"mappings":"8JAcS,SACDA,KAAM,aACNC,WAAY,EACPC,EAAKF,MAAOE,GAEjBC,MAAO,CAEHC,OAAQ,CACJC,KAAMC,OACNC,QAAS,KAGjBC,YAEQC,EAAYC,EAAI,SAiBdC,EAAc,OACNC,MAAQC,OAAOC,aAClBC,SAASC,gBAAgBP,WACzBM,SAASE,KAAKR,qBAGf,YACCS,iBAAiB,SAAUP,SAE1B,YACDQ,oBAAoB,SAAUR,MAElC,CACHS,MA5BU,SACNC,EAAQC,aAAY,SAChBC,EAAMV,OAAOC,aACVC,SAASC,gBAAgBP,WACzBM,SAASE,KAAKR,aACjB,GAAKc,4BACSF,OAGdG,EAAYD,EAAME,KAAKC,MAAMH,EAAM,KAC3B,GAAKC,EAAY,EAAIA,WACxBR,gBAAgBP,UAAYM,SAASE,KAAKR,UAAYe,IAChE,KAiBHf,UAAAA,8FAvDNkB,MAAK,sEACmB3B,KAAK,WAAK4B"}