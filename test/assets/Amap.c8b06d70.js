import{j as a,g as e,q as n,n as t,k as o,f as s,m as i,r as c,o as l,c as r,K as p,H as d,F as u,I as m}from"./vendor.64c8d20c.js";import{p as f,P as w,a as v,L as b,$ as h,B as k}from"./vant.1c522a55.js";import{e as g,t as A,p as y,c as C,I,w as M}from"./index.ab83b5f8.js";import{N as x}from"./index.52cdef72.js";import"./on-popup-reopen.ca56adb1.js";import"./interceptor.223c8325.js";import"./use-route.6524b53e.js";var[j,B]=C("action-sheet"),S=M(a({name:j,props:g({},f,{title:String,round:A,actions:Array,closeable:A,cancelText:String,description:String,closeOnPopstate:Boolean,closeOnClickAction:Boolean,safeAreaInsetBottom:A,closeIcon:{type:String,default:"cross"}}),emits:["select","cancel","update:show"],setup(a,{slots:o,emit:s}){var i=a=>s("update:show",a),c=()=>{i(!1),s("cancel")},l=()=>{if(a.title)return e("div",{class:B("header")},[a.title,a.closeable&&e(I,{name:a.closeIcon,class:B("close"),onClick:c},null)])},r=()=>{if(o.cancel||a.cancelText)return[e("div",{class:B("gap")},null),e("button",{type:"button",class:B("cancel"),onClick:c},[o.cancel?o.cancel():a.cancelText])]},p=(n,o)=>{var{name:c,color:l,subname:r,loading:p,callback:d,disabled:u,className:m}=n,f=p?e(b,{class:B("loading-icon")},null):[e("span",{class:B("name")},[c]),r&&e("div",{class:B("subname")},[r])];return e("button",{type:"button",style:{color:l},class:[B("item",{loading:p,disabled:u}),m],onClick:()=>{u||p||(d&&d(n),a.closeOnClickAction&&i(!1),t((()=>s("select",n,o))))}},[f])},d=()=>{if(a.description||o.description){var n=o.description?o.description():a.description;return e("div",{class:B("description")},[n])}},u=()=>{if(a.actions)return a.actions.map(p)};return()=>e(w,n({class:B(),round:a.round,position:"bottom",safeAreaInsetBottom:a.safeAreaInsetBottom},y(a,v),{"onUpdate:show":i}),{default:()=>[l(),d(),e("div",{class:B("content")},[u(),null==o.default?void 0:o.default()]),r()]})}}));const T={name:"Amap",components:{[S.name]:S,[x.name]:x,[k.name]:k},setup(){const a=i();o((()=>{!function({key:a="e41e19bc267e",success:e=function(){},error:n=function(){}}){if(window.AMap)return void e(window.AMap);let t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=`https://webapi.amap.com/maps?v=1.4.15&key=${a}&callback=_amapInitMap`,t.onerror=function(a){h.errorMsg("高德地图加载失败，请重试"),console.warn("高德地图加载失败，error:",a),n(a)},document.head.appendChild(t),window._amapInitMap=()=>{e(window.AMap)}}({success(a){let e=new a.Map("map",{zoom:11,center:[117,39],viewMode:"3D"}),n=new a.Marker({position:[117,39],animation:"AMAP_ANIMATION_DROP"});e.add(n),a.plugin("AMap.ToolBar",(function(){let n=new a.ToolBar;e.addControl(n)}))}})}));return{navLeftClick:()=>{a.go(-1)},navigation:s({show:!1,options:[{name:"高德地图",url:"https://uri.amap.com/marker"},{name:"百度地图",url:"https://api.map.baidu.com/marker"}],select:a=>{let{name:e,url:n}=a;switch(e){case"高德地图":n+="?position=117,39";break;case"百度地图":n+="?location=39,117&output=html&src=webapp.baidu.openAPIdemo";break;default:return}window.open(n)}})}}},L=e("div",{id:"map",style:{width:"100%",height:"300px"}},null,-1),O=m("导航 ");T.render=function(a,n,t,o,s,i){const m=c("van-nav-bar"),f=c("van-button"),w=c("van-action-sheet");return l(),r(u,null,[e(m,{title:"高德地图","left-text":"返回","left-arrow":"",onClickLeft:o.navLeftClick},null,8,["onClickLeft"]),p("高德map地图"),L,p("导航"),e(f,{icon:"share-o",type:"primary",onClick:n[1]||(n[1]=a=>o.navigation.show=!0)},{default:d((()=>[O])),_:1}),p("导航面板"),e(w,{description:"请选择导航app","cancel-text":"取消",show:o.navigation.show,"onUpdate:show":n[2]||(n[2]=a=>o.navigation.show=a),actions:o.navigation.options,onSelect:o.navigation.select},null,8,["show","actions","onSelect"])],64)};export default T;
//# sourceMappingURL=Amap.c8b06d70.js.map
